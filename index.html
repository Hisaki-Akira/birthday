<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday!!</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #1c1c1c;
      overflow: hidden;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
    }
    #message {
      font-size: 3rem;
      color: white;
      opacity: 0;
      text-align: center;
      z-index: 10;
    }
    /* ã‚±ãƒ¼ã‚­ã®ã‚³ãƒ³ãƒ†ãƒŠ */
    #cakeContainer {
      position: relative;
      width: 250px;
      height: 300px;  /* ã‚±ãƒ¼ã‚­ã®é«˜ã•èª¿æ•´ */
      opacity: 0;
      bottom: -200px;
      margin-top: 100px;  /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã‚±ãƒ¼ã‚­ã®é–“éš”èª¿æ•´ï¼ˆå¢—åŠ ï¼‰ */
    }
    /* ã‚±ãƒ¼ã‚­ã®ç”»åƒï¼ˆã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ä¿æŒï¼‰ */
    #cake {
      width: 100%;
      height: auto;
      object-fit: contain;
    }
    /* ã‚ã†ããã®ç”»åƒï¼ˆã•ã‚‰ã«å¤§ããï¼‰ */
    .candle {
      position: absolute;
      top: 10px; /* ã‚±ãƒ¼ã‚­ä¸Šéƒ¨ã«é…ç½® */
      width: 80px;  /* ã‚ã†ããã®ã‚µã‚¤ã‚ºã‚’å¤§ãã */
      height: auto;  /* ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’ä¿ã¤ */
      opacity: 0;
    }
    /* å·¦ã®ã‚ã†ãã */
    #candle-left {
      left: 15%;
    }
    /* ä¸­å¤®ã®ã‚ã†ãã */
    #candle-center {
      left: 50%;
      transform: translateX(-50%);  /* ä¸­å¤®æƒãˆ */
    }
    /* å³ã®ã‚ã†ãã */
    #candle-right {
      right: 15%;
    }
    /* é¢¨èˆ¹ã®ç”»åƒ */
    .balloon {
      position: absolute;
      bottom: -150px;
      width: 80px;
      height: 120px;
      opacity: 0;
      object-fit: contain;
    }
  </style>
  <audio id="bgm" autoplay loop>
  <source src="music.m4a" type="audio/mp4">
  ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ audio è¦ç´ ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚
</audio>

<button id="playButton" onclick="playAudio()">ğŸµ</button>

<style>
  #playButton {
    position: fixed;
    bottom: 10px;
    right: 10px;
    padding: 8px 12px;
    font-size: 14px;
    background-color: rgba(255, 255, 255, 0.7);
    border: none;
    border-radius: 6px;
    cursor: pointer;
    z-index: 1000;
    display: none; /* åˆæœŸã¯éè¡¨ç¤º */
  }
</style>

<script>
  const bgm = document.getElementById('bgm');
  const playButton = document.getElementById('playButton');

  // è‡ªå‹•å†ç”Ÿã‚’è©¦ã¿ã‚‹
  bgm.play().catch(() => {
    // è‡ªå‹•å†ç”Ÿå¤±æ•—æ™‚ã«å†ç”Ÿãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
    playButton.style.display = 'inline';
  });

  // ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§å†ç”Ÿï¼†éè¡¨ç¤ºã«
  function playAudio() {
    bgm.play();
    playButton.style.display = 'none';
  }
</script>

</head>
<body>
  <div id="message">Happy Birthday Itsuki!<br>é…ã‚Œã¡ã‚ƒã£ã¦ã”ã‚ã‚“ã­...</div>
  <div id="cakeContainer">
    <img id="cake" src="cake.png" alt="ã‚±ãƒ¼ã‚­">
    <img id="candle-left" class="candle" src="candle.png" alt="å·¦ã®ã‚ã†ãã">
    <img id="candle-center" class="candle" src="candle.png" alt="ä¸­å¤®ã®ã‚ã†ãã">
    <img id="candle-right" class="candle" src="candle.png" alt="å³ã®ã‚ã†ãã">
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.0/gsap.min.js"></script>
  <script>
    window.onload = function() {
      // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
      gsap.to("#message", { opacity: 1, duration: 2 });

      // é¢¨èˆ¹ã®ç”»åƒãƒªã‚¹ãƒˆï¼ˆ5ç¨®é¡ï¼‰
      const balloonImages = [
        'balloon_red.png',   // èµ¤
        'balloon_blue.png',  // é’
        'balloon_green.png', // ç·‘
        'balloon_yellow.png',// é»„
        'balloon_white.png'   // ãƒ”ãƒ³ã‚¯
      ];

      // ãƒãƒ«ãƒ¼ãƒ³ã®å€‹æ•°ã‚’å¢—ã‚„ã™
      for (let i = 0; i < 15; i++) {  // é¢¨èˆ¹ã‚’15å€‹ã«å¢—åŠ 
        let balloon = document.createElement('img');
        balloon.className = 'balloon';
        
        // ãƒ©ãƒ³ãƒ€ãƒ ã«é¢¨èˆ¹ã®ç”»åƒã‚’é¸ã¶
        balloon.src = balloonImages[Math.floor(Math.random() * balloonImages.length)];
        
        balloon.style.left = `${Math.random() * window.innerWidth}px`;
        document.body.appendChild(balloon);
        
        gsap.to(balloon, {
          y: -600,
          opacity: 1,
          duration: 6 + Math.random() * 4,
          delay: 1 + Math.random(),
          ease: "power1.in",
          onComplete: () => balloon.remove()
        });
      }

      // ã‚±ãƒ¼ã‚­ã¨ã‚ã†ãããŒç¾ã‚Œã‚‹
      gsap.to("#cakeContainer", { opacity: 1, bottom: '100px', duration: 2, delay: 3 });
      
      // 3æœ¬ã®ã‚ã†ããã‚’é †ç•ªã«è¡¨ç¤º
      gsap.to("#candle-left", { opacity: 1, duration: 0.5, delay: 4 });
      gsap.to("#candle-center", { opacity: 1, duration: 0.5, delay: 4.2 });
      gsap.to("#candle-right", { opacity: 1, duration: 0.5, delay: 4.4 });

    }
  </script>
</body>
</html>
